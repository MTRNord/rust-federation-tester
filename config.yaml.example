#database_url: "postgres://user:pass@localhost/db?currentSchema=schema"
database_url: "sqlite://alerts.db?mode=rwc"
smtp:
  server: "smtp.example.com"
  port: 587
  username: "alerts@example.com"
  password: "supersecret"
  from: "alerts@example.com"
frontend_url: "https://your-frontend.com"
magic_token_secret: "CHANGE_ME"

## OAuth2 Authorization Server settings
oauth2:
  # Whether OAuth2 authentication is enabled
  enabled: false
  # Base URL for the OAuth2 issuer (used in tokens and discovery document)
  # Should match your public-facing URL, e.g., "https://federation-tester.example.com"
  issuer_url: "https://your-frontend.com"
  # Access token lifetime in seconds (default: 3600 = 1 hour)
  access_token_lifetime: 3600
  # Refresh token lifetime in seconds (default: 604800 = 7 days)
  refresh_token_lifetime: 604800
  # Whether legacy magic link authentication is still enabled
  # Set to false to force all users to use OAuth2
  magic_links_enabled: true

## Optional anonymized, opt-in statistics & Prometheus metrics
statistics:
  # Master switch. When false, no events are recorded even if clients pass stats_opt_in.
  enabled: false
  # Whether to expose /metrics with anonymized federation stats. Requires a non-empty anonymization_salt when enabled.
  prometheus_enabled: true
  # Salt used to hash server names (blake3). MUST be set (non-empty) if both enabled and prometheus_enabled are true.
  # Change this to rotate anonymized identifiers (will invalidate previous anon IDs).
  anonymization_salt: ""
  # Retention window (days) for inactive federation entries (based on last_seen_at). Entries older than this are pruned.
  raw_retention_days: 30
